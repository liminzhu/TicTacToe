{"version":3,"sources":["webpack:///webpack/bootstrap ff7122de5ab7198a5f5f","webpack:///./src/app.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/Board.tsx","webpack:///./src/constants.ts"],"names":["App","App.constructor","App.render","RestartBtn","RestartBtn.constructor","RestartBtn.handleClick","RestartBtn.render","EndGameMessage","EndGameMessage.constructor","EndGameMessage.handleGameStateChange","EndGameMessage.handleRestart","EndGameMessage.componentDidMount","EndGameMessage.componentWillUnmount","EndGameMessage.endGameMessage","EndGameMessage.render","Board","Board.constructor","Board.getInitState","Board.resetState","Board.componentDidMount","Board.componentWillUnmount","Board.handleGameStateChange","Board.checkGameState","Board.check3Cells","Board.findAllEmptyCells","Board.move","Board.aiMove","Board.handleNewPlayerMove","Board.render","Cell","Cell.constructor","Cell.posToClassName","Cell.handleClick","Cell.render","CellValue","GameState"],"mappings":"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,SAASA,GAACA,CAACA,GAACA,CAACA,CAACA,CAACA;SACzEA,EAAEA,CAACA,CAACA,GAAGA,CAACA;aACJA,MAAMA,CAACA,GAAGA,CAACA;SAEfA,aAAaA;SACbA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,KAAKA,EAAEA,CAACA,EAACA,CAACA,EAACA,CAACA,CAACA,CAACA;SACrCA,EAAEA,CAACA,CAACA,GAAGA,CAACA;aACJA,MAAMA,CAACA,GAAGA,CAACA;SACfA,GAAGA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,KAAKA,EAAEA,CAACA,EAACA,CAACA,EAACA,CAACA,CAACA,CAACA;SACrCA,EAAEA,CAACA,CAACA,GAAGA,CAACA;aACJA,MAAMA,CAACA,GAAGA,CAACA;SAEfA,uCAAuCA;SACvCA,EAAEA,CAACA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,KAAKA,CAACA,CAACA,MAAMA,IAAIA,CAACA,CAACA;aAC1CA,MAAMA,CAACA,qBAASA,CAACA,IAAIA,CAACA;SAE1BA,MAAMA,CAACA,qBAASA,CAACA,OAAOA,CAACA;KAC7BA,CAACA;KAEDP,2FAA2FA;KAC3FA,2BAAWA,GAAXA,UAAYA,KAAkBA,EAAEA,IAAYA,EAAEA,IAAYA,EAAEA,IAAYA;SACpEQ,EAAEA,CAACA,CAACA,KAAKA,CAACA,IAAIA,CAACA,IAAEA,KAAKA,CAACA,IAAIA,CAACA;aACxBA,KAAKA,CAACA,IAAIA,CAACA,IAAEA,KAAKA,CAACA,IAAIA,CAACA;aACxBA,KAAKA,CAACA,IAAIA,CAACA,IAAEA,qBAASA,CAACA,KAAKA,CAACA,CAC7BA,CAACA;aACGA,MAAMA,CAACA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;iBAClBA,KAAKA,qBAASA,CAACA,CAACA;qBACZA,MAAMA,CAACA,qBAASA,CAACA,KAAKA,CAACA;iBAC3BA;qBACIA,MAAMA,CAACA,qBAASA,CAACA,KAAKA,CAACA;aAC/BA,CAACA;SACLA,CAACA;SACLA,IAAIA;aACAA,MAAMA,CAACA,SAASA,CAACA;KACzBA,CAACA;KAEDR,gCAAgCA;KAChCA,iCAAiBA,GAAjBA,UAAkBA,KAAmBA;SACjCS,MAAMA,CAACA,KAAKA,CAACA,GAAGA,CAACA,UAACA,CAACA,EAACA,CAACA;aACjBA,EAAEA,CAACA,CAACA,CAACA,IAAEA,qBAASA,CAACA,KAAKA,CAACA;iBACnBA,MAAMA,CAACA,CAACA,CAACA;aACbA,IAAIA;iBACAA,MAAMA,CAACA,SAASA,CAACA;SACzBA,CAACA,CAACA,CAACA,MAAMA,CAAEA,UAACA,CAACA,IAAKA,MAAMA,CAACA,CAACA,IAAEA,SAASA,EAACA,CAACA,CAACA,CAACA;KAC7CA,CAACA;KAEDT,cAAcA;KACdA,oBAAIA,GAAJA,UAAKA,GAAGA,EAAEA,GAAGA,EAAEA,QAAkBA;SAAjCU,iBAeCA;SAfcA,wBAAkBA,GAAlBA,oBAAkBA;SAC7BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,SAASA,IAAIA,qBAASA,CAACA,OAAOA;aACzCA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,GAAGA,CAACA,IAAIA,qBAASA,CAACA,KAAKA,CAACA,CAACA,CAACA;aAC3CA,IAAIA,QAAQA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;aACxCA,QAAQA,CAACA,GAAGA,CAACA,GAAGA,GAAGA,CAACA;aACpBA,IAAIA,QAAQA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,SAASA,CAACA;aACpCA,IAAIA,CAACA,QAAQA,CAACA,EAACA,KAAKA,EAAEA,QAAQA,EAAEA,SAASA,EAAEA,IAAIA,CAACA,cAAcA,CAACA,QAAQA,EAAEA,GAAGA,EAAEA,GAAGA,CAACA,EAACA,EAAEA;iBACjFA,EAAEA,CAACA,CAACA,KAAIA,CAACA,KAAKA,CAACA,SAASA,IAAIA,QAAQA,CAACA,CAACA,CAACA;qBACnCA,KAAIA,CAACA,qBAAqBA,CAACA,KAAIA,CAACA,KAAKA,CAACA,SAASA,CAACA,CAACA;iBACrDA,CAACA;iBACDA,EAAEA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA;qBACXA,QAAQA,CAACA,IAAIA,CAACA,KAAIA,CAACA,CAACA;iBACxBA,CAACA;aACLA,CAACA,CAACA,CAACA;SACPA,CAACA;KACLA,CAACA;KAEDV,wBAAwBA;KACxBA,sBAAMA,GAANA;SACIW,IAAIA,UAAUA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;SAC1DA,IAAIA,GAAGA,GAAGA,UAAUA,CAACA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,GAAGA,UAAUA,CAACA,MAAMA,CAACA,CAACA,CAACA;SACpEA,IAAIA,CAACA,IAAIA,CAACA,GAAGA,EAAEA,kBAAMA,CAACA,CAACA;KAC3BA,CAACA;KAEDX,gCAAgCA;KAChCA,mCAAmBA,GAAnBA,UAAoBA,GAAGA;SACnBY,IAAIA,CAACA,IAAIA,CAACA,GAAGA,EAAEA,sBAAUA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,CAACA;KAC5CA,CAACA;KAEDZ,sBAAMA,GAANA;SAAAa,iBAYCA;SAXGA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,GAAGA,CAAEA,UAACA,CAACA,EAACA,CAACA;aAClCA,MAAMA,CAACA,CACHA,oBAACA,IAAIA,IAACA,GAAGA,GAAEA,CAAEA,GAACA,GAAGA,GAAEA,CAAEA,GAACA,GAAGA,GAAEA,CAAEA,GAACA,mBAAmBA,GAAEA,KAAIA,CAACA,mBAAmBA,CAACA,IAAIA,CAACA,KAAIA,EAAEA,CAACA,CAAEA,EAAGA,CAChGA;SACLA,CAACA,CAAEA,CAACA;SAEJA,MAAMA,CAACA,CACHA,qBAACA,GAAGA,KAACA,SAASA,GAAGA,OAAOA,GACnBA,KAAMA,CACLA,CACTA;KACLA,CAACA;KACLb,YAACA;AAADA,EAACA,EArImB,KAAK,CAAC,SAAS,EAqIlC;AA2CQ,cAAK,SA3Cb;AAED;KAAmBc,wBAAqCA;KAAxDA;SAAmBC,8BAAqCA;KAuCxDA,CAACA;KArCGD,gCAAgCA;KAChCA,6BAAcA,GAAdA,UAAeA,GAAWA;SACtBE,IAAIA,SAASA,GAAGA,MAAMA,CAACA;SACvBA,MAAMA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,GAACA,CAACA,CAACA,CAACA,CAACA,CAACA;aACxBA,KAAKA,CAACA;iBACFA,SAASA,IAAEA,MAAMA,CAACA;iBAClBA,KAAKA,CAACA;aACVA,KAAKA,CAACA;iBACFA,SAASA,IAAEA,SAASA,CAACA;iBACrBA,KAAKA,CAACA;aACVA,SAASA,KAAKA,CAACA;SACnBA,CAACA;SACDA,MAAMA,CAACA,CAACA,GAAGA,GAACA,CAACA,CAACA,CAACA,CAACA;aACZA,KAAKA,CAACA;iBACFA,SAASA,IAAEA,OAAOA,CAACA;iBACnBA,KAAKA,CAACA;aACVA,KAAKA,CAACA;iBACFA,SAASA,IAAEA,QAAQA,CAACA;iBACpBA,KAAKA,CAACA;aACVA,SAASA,KAAKA,CAACA;SACnBA,CAACA;SACDA,MAAMA,CAACA,SAASA,CAACA;KACrBA,CAACA;KAEDF,0BAAWA,GAAXA,UAAYA,CAACA;SACTG,IAAIA,CAACA,KAAKA,CAACA,mBAAmBA,EAAEA,CAACA;KACrCA,CAACA;KAEDH,qBAAMA,GAANA;SACII,IAAIA,GAAGA,GAAGA,qBAASA,CAACA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;SACpCA,IAAIA,IAAIA,GAAGA,GAAGA,CAACA;SACfA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,OAAOA,CAACA;aACfA,GAAGA,GAAGA,EAAEA,CAACA;SACbA,MAAMA,CAACA,qBAACA,GAAGA,KAACA,SAASA,GAAIA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAAEA,GAACA,OAAOA,GAAEA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,IAAIA,CAAEA,GAC/FA,qBAACA,GAAGA,KAACA,SAASA,GAAIA,IAAKA,QAAGA,GAAIA,MAAOA,CACnCA;KACVA,CAACA;KACLJ,WAACA;AAADA,EAACA,EAvCkB,KAAK,CAAC,SAAS,EAuCjC;;;;;;;AClMD,KAAK,SAAuB;AAA5B,YAAK,SAAS;KAAEK,mCAACA;KAAEA,mCAACA;KAAEA,2CAAKA;AAAAA,EAACA,EAAvB,SAAS,KAAT,SAAS,QAAc;AAKnB,kBAAS,aALU;AAAA,EAAC;AAC7B,KAAK,SAAuC;AAA5C,YAAK,SAAS;KAAEC,+CAAOA;KAAEA,2CAAKA;KAAEA,2CAAKA;KAAEA,yCAAIA;AAAAA,EAACA,EAAvC,SAAS,KAAT,SAAS,QAA8B;AAIxB,kBAAS,aAJe;AAAA,EAAC;AAC7C,KAAM,UAAU,GAAG,SAAS,CAAC,CAAC;AAGC,mBAAU,cAHV;AAC/B,KAAM,MAAM,GAAG,SAAS,CAAC,CAAC;AAEiB,eAAM,UAFtB","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ff7122de5ab7198a5f5f\n **/","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { Board } from './Board';\r\nimport { GameState } from './constants';\r\n\r\nclass App extends React.Component<any, any> {\r\n\r\n    render() {\r\n        let description = 'Player(X)  Computer(O)';\r\n        return (\r\n            <div className = 'app'> \r\n                <Board /> \r\n                <div>\r\n                    <span className='inlinetext t1'> Player(X) </span>                \r\n                    <span className='inlinetext t2'> Computer(O) </span>\r\n                </div>\r\n                <RestartBtn />     \r\n                <EndGameMessage />           \r\n            </div> \r\n        )\r\n    }\r\n}\r\n\r\nclass RestartBtn extends React.Component<any, any> {\r\n\r\n    // Fire a global event notifying restart of game\r\n    handleClick(e) {\r\n        var event = document.createEvent(\"Event\");\r\n        event.initEvent('restart', false, true); \r\n        window.dispatchEvent(event);\r\n    }\r\n    \r\n    render() {\r\n        return <a href=\"#\" className = 'restartBtn' onClick={this.handleClick.bind(this)}>\r\n            Restart \r\n        </a>;\r\n    }\r\n} \r\n\r\nclass EndGameMessage extends React.Component<any, any> {\r\n \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {gameState: GameState.Running};\r\n    }\r\n    \r\n    handleGameStateChange(e : CustomEvent) {\r\n        this.setState({gameState: e.detail});\r\n    }\r\n  \r\n    handleRestart(e) {\r\n        this.setState({gameState: GameState.Running});\r\n    }\r\n  \r\n    componentDidMount() {\r\n        window.addEventListener('gameStateChange', this.handleGameStateChange.bind(this));\r\n        window.addEventListener('restart', this.handleRestart.bind(this));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('gameStateChange', this.handleGameStateChange.bind(this));\r\n        window.removeEventListener('restart', this.handleRestart.bind(this));\r\n    }\r\n\r\n    // the message displayed when game ends\r\n    endGameMessage() : string {\r\n        switch (this.state.gameState) {\r\n            case GameState.X_Win: return 'X Wins!';\r\n            case GameState.O_Win: return 'O Wins!';\r\n            case GameState.Draw: return 'Draw';\r\n            default: return '';\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className='endGameMessage'> {this.endGameMessage()} </div> \r\n        )\r\n    }\r\n}   \r\n\r\nReactDOM.render(\r\n    <App />, document.getElementById('content')\r\n);\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.tsx\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = ReactDOM;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\r\n\r\nimport * as React from 'react';\r\nimport { CellValue, GameState, playerCell, aiCell } from './constants'; \r\n\r\ninterface BoardProps extends React.Props<any> {}\r\n\r\ninterface BoardState {\r\n    cells: CellValue[];\r\n    gameState: GameState;\r\n}\r\n\r\ninterface CellProps extends React.Props<any> {\r\n    pos: number;\r\n    val: CellValue;   \r\n    handleNewPlayerMove: Function;\r\n}\r\n\r\ninterface CellState {}\r\n\r\nclass Board extends React.Component<BoardProps, BoardState> {\r\n\r\n    constructor(props) {\r\n        super(props);        \r\n        this.state = this.getInitState();\r\n    } \r\n    \r\n    getInitState() : BoardState { \r\n        let cells = Array.apply(null, Array(9)).map(()=>{return CellValue.Empty;});\r\n        return {cells: cells, gameState: GameState.Running}\r\n    }\r\n\r\n    resetState() : void {\r\n        this.setState(this.getInitState());\r\n    }\r\n     \r\n    componentDidMount() {\r\n        window.addEventListener('restart', this.resetState.bind(this));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('restart', this.resetState.bind(this));\r\n    }\r\n    \r\n    // Fire a global event notifying GameState changes\r\n    handleGameStateChange(newState) {\r\n        var event = new CustomEvent('gameStateChange', {'detail': this.state.gameState});\r\n        event.initEvent('gameStateChange', false, true); \r\n        window.dispatchEvent(event);\r\n    }   \r\n    \r\n    // check the game state - use the latest move\r\n    checkGameState(cells: CellValue[], latestPos: number, latestVal: CellValue) : GameState {\r\n        if (this.state.gameState!=GameState.Running) {\r\n            return this.state.gameState;\r\n        }\r\n        \r\n        // check row\r\n        let res = this.check3Cells(cells, 3*Math.floor(latestPos/3), \r\n            3*Math.floor(latestPos/3)+1, 3*Math.floor(latestPos/3)+2);\r\n        if (res)\r\n            return res; \r\n        \r\n        // check col\r\n        res = this.check3Cells(cells, latestPos%3, latestPos%3+3, latestPos%3+6);\r\n        if (res)\r\n            return res;\r\n        \r\n        // check diag\r\n        res = this.check3Cells(cells, 0,4,8);\r\n        if (res)\r\n            return res;\r\n        res = this.check3Cells(cells, 2,4,6);\r\n        if (res)\r\n            return res;\r\n            \r\n        // check draw - if all cells are filled\r\n        if (this.findAllEmptyCells(cells).length == 0)\r\n            return GameState.Draw;          \r\n                \r\n        return GameState.Running;\r\n    }\r\n    \r\n    // check if 3 cells have same non-empty val - return the winner state; otherwise undefined \r\n    check3Cells(cells: CellValue[], pos0: number, pos1: number, pos2: number) : GameState {\r\n        if (cells[pos0]==cells[pos1] &&\r\n            cells[pos1]==cells[pos2] &&\r\n            cells[pos0]!=CellValue.Empty)\r\n            {\r\n                switch (cells[pos0]) {\r\n                    case CellValue.X: \r\n                        return GameState.X_Win;\r\n                    default:\r\n                        return GameState.O_Win;\r\n                }\r\n            }\r\n        else \r\n            return undefined;\r\n    }\r\n    \r\n    // list all empty cell positions\r\n    findAllEmptyCells(cells : CellValue[]) : number[] {\r\n        return cells.map((v,i)=>{ \r\n            if (v==CellValue.Empty)\r\n                return i;\r\n            else \r\n                return undefined;\r\n        }).filter( (v)=>{ return v!=undefined });        \r\n    }\r\n    \r\n    // make a move\r\n    move(pos, val, callback=undefined) : void {\r\n        if (this.state.gameState == GameState.Running &&\r\n            this.state.cells[pos] == CellValue.Empty) {\r\n            let newCells = this.state.cells.slice();\r\n            newCells[pos] = val;\r\n            let oldState = this.state.gameState;\r\n            this.setState({cells: newCells, gameState: this.checkGameState(newCells, pos, val)}, ()=>{\r\n                if (this.state.gameState != oldState) {\r\n                    this.handleGameStateChange(this.state.gameState);\r\n                }\r\n                if (callback) {        \r\n                    callback.call(this);\r\n                }\r\n            });                 \r\n        }\r\n    }\r\n    \r\n    // AI make a random move\r\n    aiMove() : void {\r\n        let emptyCells = this.findAllEmptyCells(this.state.cells);\r\n        let pos = emptyCells[Math.floor(Math.random() * emptyCells.length)];\r\n        this.move(pos, aiCell);    \r\n    }\r\n    \r\n    // handle a new move from player\r\n    handleNewPlayerMove(pos) : void {\r\n        this.move(pos, playerCell, this.aiMove);\r\n    }\r\n   \r\n    render() {\r\n        var cells = this.state.cells.map( (v,i)=>{\r\n            return (\r\n                <Cell key={i} pos={i} val={v} handleNewPlayerMove={this.handleNewPlayerMove.bind(this, i)} />\r\n            )           \r\n        } );\r\n        \r\n        return ( \r\n            <div className = 'board'> \r\n                {cells}\r\n            </div> \r\n        )\r\n    }\r\n}\r\n\r\nclass Cell extends React.Component<CellProps, CellState> {\r\n\r\n    // position of cell to className\r\n    posToClassName(pos: number) : string {\r\n        let className = 'cell';\r\n        switch (Math.floor(pos/3)) {\r\n            case 0: \r\n                className+=' top';\r\n                break;\r\n            case 2: \r\n                className+=' bottom';\r\n                break;\r\n            default: break;             \r\n        }\r\n        switch (pos%3) {    \r\n            case 0: \r\n                className+=' left';\r\n                break;\r\n            case 2: \r\n                className+=' right';\r\n                break;\r\n            default: break;             \r\n        }\r\n        return className;\r\n    }\r\n\r\n    handleClick(e) {\r\n        this.props.handleNewPlayerMove();\r\n    }\r\n\r\n    render() {\r\n        let val = CellValue[this.props.val];\r\n        let name = val;\r\n        if (val == 'Empty')\r\n            val = '';\r\n        return <div className = {this.posToClassName(this.props.pos)} onClick={this.handleClick.bind(this)}> \r\n            <div className = {name}> {val} </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport { Board };\n\n\n/** WEBPACK FOOTER **\n ** ./src/Board.tsx\n **/","enum CellValue {X, O, Empty};\r\nenum GameState {Running, X_Win, O_Win, Draw};\r\nconst playerCell = CellValue.X;\r\nconst aiCell = CellValue.O;\r\n\r\nexport { CellValue, GameState, playerCell, aiCell }; \r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants.ts\n **/"],"sourceRoot":""}